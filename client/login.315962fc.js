import{S as e,i as s,s as t,j as a,e as o,t as i,c as r,b as l,d as n,f as c,g as d,h as v,k as h,l as p,a as f,z as m,A as u,B as g,C as $,o as b,n as N,D as y,E,m as k,y as x,F as I,x as S,v as P,w}from"./chunk.4ceeafff.js";import{G as D}from"./chunk.fbd8dd8c.js";function T(e){var s,t,f,m;const u=e.$$slots.default,g=a(u,e,null);return{c(){s=o("div"),g||(t=o("em"),f=i("no content was provided")),g&&g.c(),this.h()},l(e){s=r(e,"DIV",{class:!0},!1);var a=l(s);if(!g){t=r(a,"EM",{},!1);var o=l(t);f=n(o,"no content was provided"),o.forEach(c)}g&&g.l(a),a.forEach(c),this.h()},h(){s.className="login-panel svelte-1o585o2"},m(e,a){d(e,s,a),g?g.m(s,null):(v(s,t),v(t,f)),m=!0},p(e,s){g&&g.p&&e.$$scope&&g.p(h(u,s,e,null),p(u,s,null))},i(e){m||(g&&g.i&&g.i(e),m=!0)},o(e){g&&g.o&&g.o(e),m=!1},d(e){e&&c(s),g&&g.d(e)}}}function V(e,s,t){let{$$slots:a={},$$scope:o}=s;return e.$set=(e=>{"$$scope"in e&&t("$$scope",o=e.$$scope)}),{$$slots:a,$$scope:o}}class W extends e{constructor(e){super(),s(this,e,V,T,t,[])}}var L=[{label:"Inrupt",image:"inrupt.svg",value:"https://inrupt.net/auth",registerLink:"https://inrupt.net/register",description:"Lorem ipsum dolor sit amet non ipsom dolor"},{label:"Solid Community",image:"Solid.png",value:"https://solid.community",registerLink:"https://solid.community/register",description:"Lorem ipsum dolor sit non consectetur"}];function j(e){var s,t,a,h,p,E,k,x,I,S,P,w,D,T,V,W,j,B,_,M,F,U,G,H,O,R,C,q,J=L[0].label,K=L[1].label;return{c(){s=o("div"),t=o("div"),a=o("div"),h=o("div"),p=i(e.text),E=f(),k=o("div"),x=o("span"),I=f(),S=o("div"),P=m("svg"),w=m("path"),D=f(),T=o("div"),V=o("div"),W=o("span"),j=o("img"),B=f(),_=o("span"),M=i(J),F=f(),U=o("div"),G=o("span"),H=o("img"),O=f(),R=o("span"),C=i(K),this.h()},l(o){s=r(o,"DIV",{class:!0},!1);var i=l(s);t=r(i,"DIV",{class:!0},!1);var d=l(t);a=r(d,"DIV",{id:!0,class:!0},!1);var v=l(a);h=r(v,"DIV",{id:!0,class:!0},!1);var f=l(h);p=n(f,e.text),f.forEach(c),v.forEach(c),E=n(d," \n        "),k=r(d,"DIV",{id:!0,class:!0},!1);var m=l(k);x=r(m,"SPAN",{id:!0,class:!0},!1),l(x).forEach(c),I=n(m,"\n            "),S=r(m,"DIV",{class:!0,"aria-hidden":!0},!1);var u=l(S);P=r(u,"svg",{height:!0,width:!0,viewBox:!0,"aria-hidden":!0,focusable:!0},!0);var g=l(P);w=r(g,"path",{d:!0},!0),l(w).forEach(c),g.forEach(c),u.forEach(c),m.forEach(c),d.forEach(c),D=n(i,"\n    "),T=r(i,"DIV",{class:!0,id:!0,tabindex:!0},!1);var $=l(T);V=r($,"DIV",{class:!0,id:!0},!1);var b=l(V);W=r(b,"SPAN",{class:!0},!1),l(W).forEach(c),j=r(b,"IMG",{class:!0,src:!0,alt:!0},!1),l(j).forEach(c),B=n(b," "),_=r(b,"SPAN",{class:!0},!1);var N=l(_);M=n(N,J),N.forEach(c),b.forEach(c),F=n($,"\n        "),U=r($,"DIV",{class:!0,id:!0},!1);var y=l(U);G=r(y,"SPAN",{class:!0},!1),l(G).forEach(c),H=r(y,"IMG",{class:!0,src:!0,alt:!0},!1),l(H).forEach(c),O=n(y," "),R=r(y,"SPAN",{class:!0},!1);var L=l(R);C=n(L,K),L.forEach(c),y.forEach(c),$.forEach(c),i.forEach(c),this.h()},h(){h.id="placeholder-text",h.className="svelte-1e6kb6v",a.id="enter",a.className="svelte-1e6kb6v",x.id="divider",x.className="svelte-1e6kb6v",u(w,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),u(P,"height","20"),u(P,"width","20"),u(P,"viewBox","0 0 20 20"),u(P,"aria-hidden","true"),u(P,"focusable","false"),S.className="arrow svelte-1e6kb6v",u(S,"aria-hidden","true"),k.id="arrow-container",k.className="svelte-1e6kb6v",t.className="select-box svelte-1e6kb6v",W.className="helper svelte-1e6kb6v",j.className="logo svelte-1e6kb6v",j.src=L[0].image,j.alt="first provider",_.className="providerName svelte-1e6kb6v",V.className="option svelte-1e6kb6v",V.id="0",G.className="helper svelte-1e6kb6v",H.className="logo svelte-1e6kb6v",H.src=L[1].image,H.alt="second provider",R.className="providerName svelte-1e6kb6v",U.className="option svelte-1e6kb6v",U.id="1",T.className="provider-list svelte-1e6kb6v",T.id="dropdown",T.tabIndex="0",s.className="solid-provider-select svelte-1e6kb6v",q=[g(S,"click",z),g(V,"click",e.handleSelectProvider),g(U,"click",e.handleSelectProvider),g(T,"blur",e.handleBlur),g(T,"focus",A)]},m(o,i){d(o,s,i),v(s,t),v(t,a),v(a,h),v(h,p),v(t,E),v(t,k),v(k,x),v(k,I),v(k,S),v(S,P),v(P,w),v(s,D),v(s,T),v(T,V),v(V,W),v(V,j),v(V,B),v(V,_),v(_,M),v(T,F),v(T,U),v(U,G),v(U,H),v(U,O),v(U,R),v(R,C),$(()=>e.div7_binding(T,null))},p(e,s){e.text&&b(p,s.text),e.items&&(s.div7_binding(null,T),s.div7_binding(T,null))},i:N,o:N,d(t){t&&c(s),e.div7_binding(null,T),y(q)}}}function z(){const e=document.getElementById("dropdown");"block"!==e.style.display?e.style.display="block":e.style.display="none"}function A(){console.log("has focus")}function B(e,s,t){console.log("Providers",L);const a=E();let o,i="Select ID Provider";return{displayProv:o,text:i,handleBlur:function(){console.log("has blur"),o.style.display="none",t("displayProv",o)},handleSelectProvider:function(e){let s=e.currentTarget.id;t("text",i=L[s].label),a("message",{provider:L[s]}),o.style.display="none",t("displayProv",o)},div7_binding:function(e,s){t("displayProv",o=e)}}}class _ extends e{constructor(e){super(),s(this,e,B,j,t,[])}}function M(e){var s;return{c(){s=o("input"),this.h()},l(e){s=r(e,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0},!1),l(s).forEach(c),this.h()},h(){u(s,"type","text"),s.name="idp",s.placeholder="WebID",s.className="svelte-1b9fj8z"},m(e,t){d(e,s,t)},p:N,i:N,o:N,d(e){e&&c(s)}}}function F(e){var s,t=new _({});return t.$on("message",e.handleProviderSelected),{c(){t.$$.fragment.c()},l(e){t.$$.fragment.l(e)},m(e,a){k(t,e,a),s=!0},p:N,i(e){s||(t.$$.fragment.i(e),s=!0)},o(e){t.$$.fragment.o(e),s=!1},d(e){t.$destroy(e)}}}function U(e){var s,t,a,h,p,m,u,$,N,E,k,x,D,T,V,W,L,j,z,A,B,_,U,G,H=[F,M],O=[];function R(e){return e.useSelectionProvider?0:1}return V=R(e),W=O[V]=H[V](e),{c(){s=o("div"),t=o("div"),a=o("a"),h=i("Register for a solid identity"),p=f(),m=o("a"),u=i("What is a Solid Identity?"),$=f(),N=o("span"),E=o("span"),k=i("Log in"),x=f(),D=o("div"),T=o("form"),W.c(),L=f(),j=o("button"),z=i(e.providerWebidText),A=f(),B=o("button"),_=i("Log In"),this.h()},l(o){s=r(o,"DIV",{class:!0},!1);var i=l(s);t=r(i,"DIV",{},!1);var d=l(t);a=r(d,"A",{class:!0,href:!0},!1);var v=l(a);h=n(v,"Register for a solid identity"),v.forEach(c),p=n(d,"\n\t\t\t\t"),m=r(d,"A",{href:!0,rel:!0,target:!0,class:!0},!1);var f=l(m);u=n(f,"What is a Solid Identity?"),f.forEach(c),$=n(d,"\n\t\t\t\t"),N=r(d,"SPAN",{class:!0},!1);var g=l(N);E=r(g,"SPAN",{class:!0},!1);var b=l(E);k=n(b,"Log in"),b.forEach(c),g.forEach(c),x=n(d,"\n\t\t\t\t"),D=r(d,"DIV",{class:!0},!1);var y=l(D);T=r(y,"FORM",{},!1);var I=l(T);W.l(I),L=n(I,"\n\t\t\t\t\t\t"),j=r(I,"BUTTON",{type:!0,class:!0},!1);var S=l(j);z=n(S,e.providerWebidText),S.forEach(c),A=n(I,"\n\t\t\t\t\t\t"),B=r(I,"BUTTON",{type:!0,class:!0},!1);var P=l(B);_=n(P,"Log In"),P.forEach(c),I.forEach(c),y.forEach(c),d.forEach(c),i.forEach(c),this.h()},h(){a.className="ids-link-filled ids-link-filled--primary",a.href="/register",m.href="https://solid.inrupt.com/get-a-solid-pod",m.rel="noopener noreferrer",m.target="_blank",m.className="link",E.className="svelte-1b9fj8z",N.className="panel-title svelte-1b9fj8z",j.type="button",j.className="link svelte-1b9fj8z",B.type="submit",B.className="login svelte-1b9fj8z",D.className="solid-provider-login-component",s.className="panel-body svelte-1b9fj8z",G=[g(j,"click",e.toggleSelectionProvider),g(T,"submit",I(e.handleFormSubmit))]},m(e,o){d(e,s,o),v(s,t),v(t,a),v(a,h),v(t,p),v(t,m),v(m,u),v(t,$),v(t,N),v(N,E),v(E,k),v(t,x),v(t,D),v(D,T),O[V].m(T,null),v(T,L),v(T,j),v(j,z),v(T,A),v(T,B),v(B,_),U=!0},p(e,s){var t=V;(V=R(s))===t?O[V].p(e,s):(S(),P(()=>{O[t].d(1),O[t]=null}),W.o(1),w(),(W=O[V])||(W=O[V]=H[V](s)).c(),W.i(1),W.m(T,L)),U&&!e.providerWebidText||b(z,s.providerWebidText)},i(e){U||(W&&W.i(),U=!0)},o(e){W&&W.o(),U=!1},d(e){e&&c(s),O[V].d(),y(G)}}}function G(e){var s,t,a,h,p,m=new W({props:{$$slots:{default:[U]},$$scope:{ctx:e}}});return{c(){s=o("div"),t=o("h2"),a=i("Hi! Welcome to Solid"),h=f(),m.$$.fragment.c(),this.h()},l(e){s=r(e,"DIV",{class:!0},!1);var o=l(s);t=r(o,"H2",{class:!0},!1);var i=l(t);a=n(i,"Hi! Welcome to Solid"),i.forEach(c),o.forEach(c),h=n(e,"\n\t"),m.$$.fragment.l(e),this.h()},h(){t.className="svelte-1b9fj8z",s.className="welcome svelte-1b9fj8z"},m(e,o){d(e,s,o),v(s,t),v(t,a),d(e,h,o),k(m,e,o),p=!0},p(e,s){var t={};(e.$$scope||e.providerWebidText||e.useSelectionProvider)&&(t.$$scope={changed:e,ctx:s}),m.$set(t)},i(e){p||(m.$$.fragment.i(e),p=!0)},o(e){m.$$.fragment.o(e),p=!1},d(e){e&&(c(s),c(h)),m.$destroy(e)}}}function H(e){var s,t,a=new D({props:{$$slots:{default:[G]},$$scope:{ctx:e}}});return{c(){s=f(),a.$$.fragment.c(),this.h()},l(e){s=n(e,"\n\n"),a.$$.fragment.l(e),this.h()},h(){document.title="Login"},m(e,o){d(e,s,o),k(a,e,o),t=!0},p(e,s){var t={};(e.$$scope||e.providerWebidText||e.useSelectionProvider)&&(t.$$scope={changed:e,ctx:s}),a.$set(t)},i(e){t||(a.$$.fragment.i(e),t=!0)},o(e){a.$$.fragment.o(e),t=!1},d(e){e&&c(s),a.$destroy(e)}}}function O(e,s,t){let a,o=!1,i={},r="Log In with Provider";return x(async()=>{a=window.solid.auth,console.log("auth2",a)}),{useSelectionProvider:o,providerWebidText:r,toggleSelectionProvider:function(){t("useSelectionProvider",o=!o),t("providerWebidText",r=o?"Log In with WebID":"Log In with Provider")},handleProviderSelected:function(e){console.log("Selected provider is:",e.detail.provider),i=e.detail.provider},handleFormSubmit:async function(){const e=i.value;await a.trackSession(s=>{if(s)console.log(`The user is ${s.webId}`),window.location="/";else{console.log("The user is not logged in");const s=window.location.origin;a.login(e,{callbackUri:s})}})}}}class R extends e{constructor(e){super(),s(this,e,O,H,t,[])}}function C(e){var s,t,a=new R({});return{c(){s=f(),a.$$.fragment.c(),this.h()},l(e){s=n(e,"\n\n"),a.$$.fragment.l(e),this.h()},h(){document.title="Login"},m(e,o){d(e,s,o),k(a,e,o),t=!0},p:N,i(e){t||(a.$$.fragment.i(e),t=!0)},o(e){a.$$.fragment.o(e),t=!1},d(e){e&&c(s),a.$destroy(e)}}}export default class extends e{constructor(e){super(),s(this,e,null,C,t,[])}}
//# sourceMappingURL=login.315962fc.js.map
