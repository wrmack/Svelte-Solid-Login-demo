import{_ as e,a as t,b as n,c as i,i as o,s,d as a,S as r,o as c,e as l,t as d,g as u,h as f,j as v,k as h,l as p,m,q as g,r as $,f as b,E as N,F as k,G as y,H as E,u as I,n as x,I as S,J as w,p as P,D,C as T,K as V,B as W,z as L,A as j}from"./chunk.fec452ba.js";import{_ as z,a as A}from"./chunk.0ec0df63.js";import{G as B}from"./chunk.534c992d.js";function _(e){var t,n,i,o,s=e.$$slots.default,a=c(s,e,null);return{c:function(){t=l("div"),a||(n=l("em"),i=d("no content was provided")),a&&a.c(),this.h()},l:function(e){t=u(e,"DIV",{class:!0},!1);var o=f(t);if(!a){n=u(o,"EM",{},!1);var s=f(n);i=v(s,"no content was provided"),s.forEach(h)}a&&a.l(o),o.forEach(h),this.h()},h:function(){t.className="login-panel svelte-1o585o2"},m:function(e,s){p(e,t,s),a?a.m(t,null):(m(t,n),m(n,i)),o=!0},p:function(e,t){a&&a.p&&e.$$scope&&a.p(g(s,t,e,null),$(s,t,null))},i:function(e){o||(a&&a.i&&a.i(e),o=!0)},o:function(e){a&&a.o&&a.o(e),o=!1},d:function(e){e&&h(t),a&&a.d(e)}}}function M(e,t,n){var i=t.$$slots,o=void 0===i?{}:i,s=t.$$scope;return e.$set=function(e){"$$scope"in e&&n("$$scope",s=e.$$scope)},{$$slots:o,$$scope:s}}var F=function(c){function l(e){var r;return t(this,l),r=n(this,i(l).call(this)),o(a(r),e,M,_,s,[]),r}return e(l,r),l}(),G=[{label:"Inrupt",image:"inrupt.svg",value:"https://inrupt.net/auth",registerLink:"https://inrupt.net/register",description:"Lorem ipsum dolor sit amet non ipsom dolor"},{label:"Solid Community",image:"Solid.png",value:"https://solid.community",registerLink:"https://solid.community/register",description:"Lorem ipsum dolor sit non consectetur"}];function H(e){var t,n,i,o,s,a,r,c,g,$,w,P,D,T,V,W,L,j,z,A,B,_,M,F,H,R,C,q,J=G[0].label,K=G[1].label;return{c:function(){t=l("div"),n=l("div"),i=l("div"),o=l("div"),s=d(e.text),a=b(),r=l("div"),c=l("span"),g=b(),$=l("div"),w=N("svg"),P=N("path"),D=b(),T=l("div"),V=l("div"),W=l("span"),L=l("img"),j=b(),z=l("span"),A=d(J),B=b(),_=l("div"),M=l("span"),F=l("img"),H=b(),R=l("span"),C=d(K),this.h()},l:function(l){t=u(l,"DIV",{class:!0},!1);var d=f(t);n=u(d,"DIV",{class:!0},!1);var p=f(n);i=u(p,"DIV",{id:!0,class:!0},!1);var m=f(i);o=u(m,"DIV",{id:!0,class:!0},!1);var b=f(o);s=v(b,e.text),b.forEach(h),m.forEach(h),a=v(p," \n        "),r=u(p,"DIV",{id:!0,class:!0},!1);var N=f(r);c=u(N,"SPAN",{id:!0,class:!0},!1),f(c).forEach(h),g=v(N,"\n            "),$=u(N,"DIV",{class:!0,"aria-hidden":!0},!1);var k=f($);w=u(k,"svg",{height:!0,width:!0,viewBox:!0,"aria-hidden":!0,focusable:!0},!0);var y=f(w);P=u(y,"path",{d:!0},!0),f(P).forEach(h),y.forEach(h),k.forEach(h),N.forEach(h),p.forEach(h),D=v(d,"\n    "),T=u(d,"DIV",{class:!0,id:!0,tabindex:!0},!1);var E=f(T);V=u(E,"DIV",{class:!0,id:!0},!1);var I=f(V);W=u(I,"SPAN",{class:!0},!1),f(W).forEach(h),L=u(I,"IMG",{class:!0,src:!0,alt:!0},!1),f(L).forEach(h),j=v(I," "),z=u(I,"SPAN",{class:!0},!1);var x=f(z);A=v(x,J),x.forEach(h),I.forEach(h),B=v(E,"\n        "),_=u(E,"DIV",{class:!0,id:!0},!1);var S=f(_);M=u(S,"SPAN",{class:!0},!1),f(M).forEach(h),F=u(S,"IMG",{class:!0,src:!0,alt:!0},!1),f(F).forEach(h),H=v(S," "),R=u(S,"SPAN",{class:!0},!1);var G=f(R);C=v(G,K),G.forEach(h),S.forEach(h),E.forEach(h),d.forEach(h),this.h()},h:function(){o.id="placeholder-text",o.className="svelte-1e6kb6v",i.id="enter",i.className="svelte-1e6kb6v",c.id="divider",c.className="svelte-1e6kb6v",k(P,"d","M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"),k(w,"height","20"),k(w,"width","20"),k(w,"viewBox","0 0 20 20"),k(w,"aria-hidden","true"),k(w,"focusable","false"),$.className="arrow svelte-1e6kb6v",k($,"aria-hidden","true"),r.id="arrow-container",r.className="svelte-1e6kb6v",n.className="select-box svelte-1e6kb6v",W.className="helper svelte-1e6kb6v",L.className="logo svelte-1e6kb6v",L.src=G[0].image,L.alt="first provider",z.className="providerName svelte-1e6kb6v",V.className="option svelte-1e6kb6v",V.id="0",M.className="helper svelte-1e6kb6v",F.className="logo svelte-1e6kb6v",F.src=G[1].image,F.alt="second provider",R.className="providerName svelte-1e6kb6v",_.className="option svelte-1e6kb6v",_.id="1",T.className="provider-list svelte-1e6kb6v",T.id="dropdown",T.tabIndex="0",t.className="solid-provider-select svelte-1e6kb6v",q=[y($,"click",U),y(V,"click",e.handleSelectProvider),y(_,"click",e.handleSelectProvider),y(T,"blur",e.handleBlur),y(T,"focus",O)]},m:function(l,d){p(l,t,d),m(t,n),m(n,i),m(i,o),m(o,s),m(n,a),m(n,r),m(r,c),m(r,g),m(r,$),m($,w),m(w,P),m(t,D),m(t,T),m(T,V),m(V,W),m(V,L),m(V,j),m(V,z),m(z,A),m(T,B),m(T,_),m(_,M),m(_,F),m(_,H),m(_,R),m(R,C),E(function(){return e.div7_binding(T,null)})},p:function(e,t){e.text&&I(s,t.text),e.items&&(t.div7_binding(null,T),t.div7_binding(T,null))},i:x,o:x,d:function(n){n&&h(t),e.div7_binding(null,T),S(q)}}}function U(){var e=document.getElementById("dropdown");"block"!==e.style.display?e.style.display="block":e.style.display="none"}function O(){console.log("has focus")}function R(e,t,n){console.log("Providers",G);var i,o=w(),s="Select ID Provider";return{displayProv:i,text:s,handleBlur:function(){console.log("has blur"),i.style.display="none",n("displayProv",i)},handleSelectProvider:function(e){var t=e.currentTarget.id;n("text",s=G[t].label),o("message",{provider:G[t]}),i.style.display="none",n("displayProv",i)},div7_binding:function(e,t){n("displayProv",i=e)}}}var C=function(c){function l(e){var r;return t(this,l),r=n(this,i(l).call(this)),o(a(r),e,R,H,s,[]),r}return e(l,r),l}();function q(e){var t;return{c:function(){t=l("input"),this.h()},l:function(e){t=u(e,"INPUT",{id:!0,type:!0,name:!0,placeholder:!0,class:!0},!1),f(t).forEach(h),this.h()},h:function(){t.id="idp",k(t,"type","text"),t.name="idp",t.placeholder="WebID",t.className="svelte-1b9fj8z"},m:function(e,n){p(e,t,n)},p:x,i:x,o:x,d:function(e){e&&h(t)}}}function J(e){var t,n=new C({});return n.$on("message",e.handleProviderSelected),{c:function(){n.$$.fragment.c()},l:function(e){n.$$.fragment.l(e)},m:function(e,i){P(n,e,i),t=!0},p:x,i:function(e){t||(n.$$.fragment.i(e),t=!0)},o:function(e){n.$$.fragment.o(e),t=!1},d:function(e){n.$destroy(e)}}}function K(e){var t,n,i,o,s,a,r,c,g,$,N,k,E,x,w,P,D,T,z,A,B,_,M,F,G=[J,q],H=[];function U(e){return e.useSelectionProvider?0:1}return w=U(e),P=H[w]=G[w](e),{c:function(){t=l("div"),n=l("div"),i=l("a"),o=d("Register for a solid identity"),s=b(),a=l("a"),r=d("What is a Solid Identity?"),c=b(),g=l("span"),$=l("span"),N=d("Log in"),k=b(),E=l("div"),x=l("form"),P.c(),D=b(),T=l("button"),z=d(e.providerWebidText),A=b(),B=l("button"),_=d("Log In"),this.h()},l:function(l){t=u(l,"DIV",{class:!0},!1);var d=f(t);n=u(d,"DIV",{},!1);var p=f(n);i=u(p,"A",{class:!0,href:!0},!1);var m=f(i);o=v(m,"Register for a solid identity"),m.forEach(h),s=v(p,"\n\t\t\t\t"),a=u(p,"A",{href:!0,rel:!0,target:!0,class:!0},!1);var b=f(a);r=v(b,"What is a Solid Identity?"),b.forEach(h),c=v(p,"\n\t\t\t\t"),g=u(p,"SPAN",{class:!0},!1);var y=f(g);$=u(y,"SPAN",{class:!0},!1);var I=f($);N=v(I,"Log in"),I.forEach(h),y.forEach(h),k=v(p,"\n\t\t\t\t"),E=u(p,"DIV",{class:!0},!1);var S=f(E);x=u(S,"FORM",{},!1);var w=f(x);P.l(w),D=v(w,"\n\t\t\t\t\t\t"),T=u(w,"BUTTON",{type:!0,class:!0},!1);var V=f(T);z=v(V,e.providerWebidText),V.forEach(h),A=v(w,"\n\t\t\t\t\t\t"),B=u(w,"BUTTON",{type:!0,class:!0},!1);var W=f(B);_=v(W,"Log In"),W.forEach(h),w.forEach(h),S.forEach(h),p.forEach(h),d.forEach(h),this.h()},h:function(){i.className="ids-link-filled ids-link-filled--primary",i.href="/register",a.href="https://solid.inrupt.com/get-a-solid-pod",a.rel="noopener noreferrer",a.target="_blank",a.className="link",$.className="svelte-1b9fj8z",g.className="panel-title svelte-1b9fj8z",T.type="button",T.className="link svelte-1b9fj8z",B.type="submit",B.className="login svelte-1b9fj8z",E.className="solid-provider-login-component",t.className="panel-body svelte-1b9fj8z",F=[y(T,"click",e.toggleSelectionProvider),y(x,"submit",V(e.handleFormSubmit))]},m:function(e,l){p(e,t,l),m(t,n),m(n,i),m(i,o),m(n,s),m(n,a),m(a,r),m(n,c),m(n,g),m(g,$),m($,N),m(n,k),m(n,E),m(E,x),H[w].m(x,null),m(x,D),m(x,T),m(T,z),m(x,A),m(x,B),m(B,_),M=!0},p:function(e,t){var n=w;(w=U(t))===n?H[w].p(e,t):(W(),L(function(){H[n].d(1),H[n]=null}),P.o(1),j(),(P=H[w])||(P=H[w]=G[w](t)).c(),P.i(1),P.m(x,D)),M&&!e.providerWebidText||I(z,t.providerWebidText)},i:function(e){M||(P&&P.i(),M=!0)},o:function(e){P&&P.o(),M=!1},d:function(e){e&&h(t),H[w].d(),S(F)}}}function Q(e){var t,n,i,o,s,a=new F({props:{$$slots:{default:[K]},$$scope:{ctx:e}}});return{c:function(){t=l("div"),n=l("h2"),i=d("Hi! Welcome to Solid"),o=b(),a.$$.fragment.c(),this.h()},l:function(e){t=u(e,"DIV",{class:!0},!1);var s=f(t);n=u(s,"H2",{class:!0},!1);var r=f(n);i=v(r,"Hi! Welcome to Solid"),r.forEach(h),s.forEach(h),o=v(e,"\n\t"),a.$$.fragment.l(e),this.h()},h:function(){n.className="svelte-1b9fj8z",t.className="welcome svelte-1b9fj8z"},m:function(e,r){p(e,t,r),m(t,n),m(n,i),p(e,o,r),P(a,e,r),s=!0},p:function(e,t){var n={};(e.$$scope||e.providerWebidText||e.useSelectionProvider)&&(n.$$scope={changed:e,ctx:t}),a.$set(n)},i:function(e){s||(a.$$.fragment.i(e),s=!0)},o:function(e){a.$$.fragment.o(e),s=!1},d:function(e){e&&(h(t),h(o)),a.$destroy(e)}}}function X(e){var t,n,i=new B({props:{$$slots:{default:[Q]},$$scope:{ctx:e}}});return{c:function(){t=b(),i.$$.fragment.c(),this.h()},l:function(e){t=v(e,"\n\n"),i.$$.fragment.l(e),this.h()},h:function(){document.title="Login"},m:function(e,o){p(e,t,o),P(i,e,o),n=!0},p:function(e,t){var n={};(e.$$scope||e.providerWebidText||e.useSelectionProvider)&&(n.$$scope={changed:e,ctx:t}),i.$set(n)},i:function(e){n||(i.$$.fragment.i(e),n=!0)},o:function(e){i.$$.fragment.o(e),n=!1},d:function(e){e&&h(t),i.$destroy(e)}}}function Y(e,t,n){var i,o=!1,s={},a="Log In with Provider";function r(){return(r=z(A.mark(function e(){var t,n,a;return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o?s.value:document.getElementById("idp").value,e.next=3,solid.auth.currentSession();case 3:if(n=e.sent){e.next=13;break}return console.log("The user is not logged in"),a=window.origin+"/",console.log("Type: ",T(a)),console.log("uri: ",a),e.next=11,i.login(t,{callbackUri:a,storage:localStorage});case 11:e.next=15;break;case 13:console.log("The user is ",n.webId),window.location="/";case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}return D(z(A.mark(function e(){return A.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=window.solid.auth,console.log("auth2",i),e.next=4,i.trackSession(function(e){e&&(console.log("The user is ",e.webId),window.location="/")});case 4:case"end":return e.stop()}},e)}))),{useSelectionProvider:o,providerWebidText:a,toggleSelectionProvider:function(){n("useSelectionProvider",o=!o),n("providerWebidText",a=o?"Log In with WebID":"Log In with Provider")},handleProviderSelected:function(e){console.log("Selected provider is:",e.detail.provider),s=e.detail.provider},handleFormSubmit:function(){return r.apply(this,arguments)}}}var Z=function(c){function l(e){var r;return t(this,l),r=n(this,i(l).call(this)),o(a(r),e,Y,X,s,[]),r}return e(l,r),l}();function ee(e){var t,n,i=new Z({});return{c:function(){t=b(),i.$$.fragment.c(),this.h()},l:function(e){t=v(e,"\n\n"),i.$$.fragment.l(e),this.h()},h:function(){document.title="Login"},m:function(e,o){p(e,t,o),P(i,e,o),n=!0},p:x,i:function(e){n||(i.$$.fragment.i(e),n=!0)},o:function(e){i.$$.fragment.o(e),n=!1},d:function(e){e&&h(t),i.$destroy(e)}}}export default(function(c){function l(e){var r;return t(this,l),r=n(this,i(l).call(this)),o(a(r),e,null,ee,s,[]),r}return e(l,r),l}());
//# sourceMappingURL=login.06d52ea5.js.map
